systemd-delta(1)
==================

名称
--------

systemd-delta - 上書き設定ファイルを検索

書式
--------

**systemd-delta** [OPTIONS...] [ *PREFIX* [/*SUFFIX*]| *SUFFIX* ...]

説明
-----------

**systemd-delta** を使うことで他の設定ファイルを上書きしている設定ファイルを確認・比較することができます。/etc のファイルが一番優先度が高く、次に /run のファイルが2番目に優先度が高くなり、/usr/lib のファイルが一番優先度が低くなります。優先度が高いディレクトリのファイルは優先度が低いディレクトリの同じ名前のファイルを上書きします。さらに、設定ファイルの ".d" ディレクトリにはメインの設定ファイルを補う設定スニペットが書かれたドロップインファイルを配置することができます。ドロップインファイルも同じように優先度が高いディレクトリに同じ名前のファイルを配置することで上書きが可能です (ただし、ドロップインファイルの場合、ドロップインファイルの名前とメインの設定ファイルに対応するディレクトリの名前が両方とも一致している必要があります)。詳しくは :doc:`systemd.unit.5` を参照。

コマンドライン引数はプリフィックスとサフィックスに分割されます。どちらも指定は任意です。プリフィックスは設定ファイルが含まれているディレクトリのどれか (/etc, /run, /usr/lib, ...) である必要があります。プリフィックスを指定した場合、指定したディレクトリに含まれている上書きファイルのみ表示されます。指定しなかった場合、全ての上書きファイルが表示されます。サフィックスは tmpfiles.d, sysctl.d, systemd/system などシステム設定ファイルが含まれているサブディレクトリの名前である必要があります。指定した場合、指定したサブディレクトリの設定ファイルだけが (全ての設定パスを通して) 解析されます。指定しなかった場合、全ての設定ファイルが解析されます。コマンドライン引数を全く指定しなかった場合、全ての設定ファイルが解析されます。下の例を見てください。


オプション
----------

以下のオプションを利用できます:

.. option:: -t, --type=

   差分を一覧表示するときに、指定した差分だけを表示します。表示したいタイプをカンマで区切ったリストで指定してください。

   認識するタイプは以下の通り:

   masked
      マスクされているファイルを表示。
   equivalent
      中身に違いがない上書きファイルを表示。
   redirected
      他のファイルにリダイレクトしているファイルを表示。
   overridden
      上書き・変更ファイルを表示。
   extended
      ユニットのドロップインディレクトリの \*.conf ファイルを表示。
   unchanged
      変更がないファイルも表示。

.. option:: --diff=

   修正されたファイルを表示するときに、差分も表示。論理値で指定します。デフォルトは **true** です。

.. option:: -h, --help

   短いヘルプテキストを表示して終了。

.. option:: --version

   短いバージョン文字列を出力して終了。

.. option:: --no-pager

   出力をページャにパイプしない。

サンプル
--------

ローカルの設定を全て表示するには:

.. code-block:: console

   systemd-delta

実行時の設定を全て表示するには:

.. code-block:: console

   systemd-delta /run

システムユニットの設定変更を全て表示するには:

.. code-block:: console

   systemd-delta systemd/system

システムユニットの実行時のドロップイン変更を全て表示するには:

.. code-block:: console

   systemd-delta --type=extended /run/systemd/system

終了ステータス
---------------

成功の場合は 0 が、それ以外の場合はゼロ以外のコードが返ります。

関連項目
--------

:doc:`systemd.1`,
:doc:`systemd.unit.5`
